@model IEnumerable<SmartLMS.WebUI.Models.AvisoViewModel>
<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">Avisos</h3>
    </div>
    <div class="panel-body" style="min-height: 253px;" id="corpo-painel-avisos">
        @if (Model.Count() > 0) {
            foreach (var item in Model)
            {
                <div class="bs-component aviso" data-id="@item.Id">
                    <div class="alert alert-dismissible alert-default">
                        <button type="button" class="close" aria-hidden="true">×</button>
                        <div class="tipo-aviso">
                            @if (item.MensagemDireta)
                            {
                                <span class="label label-danger">Pessoal</span>
                            }
                            else if (!string.IsNullOrEmpty(item.NomeTurma))
                            {
                                <span class="label label-warning">Turma @item.NomeTurma</span>
                            }
                            else
                            {
                                <span class="label label-info">Geral</span>
                            }
                        </div>
                        <div class="horario-aviso">@item.DataHora</div>
                        <div class="texto-aviso">@Html.Raw(item.Texto)</div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="text-center">Nenhum aviso no momento</div>
        }
    </div>
</div>



<script id="aviso-template" type="text/x-handlebars-template">
    <div class="bs-component aviso" data-id="{{Id}}">
        <div class="alert alert-dismissible alert-default">
            <button type="button" class="close" aria-hidden="true">×</button>
            <div class="tipo-aviso">
                {{#if MensagemDireta}}
                <span class="label label-danger">Pessoal</span>
                {{else}}
                    {{#if MensagemDireta}}
                        <span class="label label-warning">Turma {{NomeTurma}}</span>
                    {{else}}
                        <span class="label label-info">Geral</span>
                    {{/if}}
                {{/if}}
            </div>
            <div class="horario-aviso">{{DataHora}}</div>
            <div class="texto-aviso">{{{Texto}}}</div>
        </div>
    </div>
</script>
